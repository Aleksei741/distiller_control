<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Джин Колонна</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Управление Джин Колонной</h1>
    </header>

    <section id="wifi-section">
        <h2>Настройка Wi-Fi</h2>
        <div>
            <h3>STA (подключение к роутеру)</h3>
            <input type="text" id="sta-ssid" placeholder="SSID">
            <input type="password" id="sta-pass" placeholder="Пароль">
            <button onclick="connectSTA()">Подключить</button>
            <button onclick="scanNetworks()">Сканировать сети</button>
            <ul id="wifi-list"></ul>
        </div>
        <div>
            <h3>AP (ESP32 как точка доступа)</h3>
            <input type="text" id="ap-ssid" placeholder="SSID AP">
            <input type="password" id="ap-pass" placeholder="Пароль">
            <button onclick="setupAP()">Настроить AP</button>
        </div>
    </section>

    <section id="status-section">
        <h2>Состояние</h2>
        <div id="column-image">
            <img src="column.png" alt="Колонна">
        </div>
        <div id="temperatures">
            <p>Температура куба: <span id="temp-cube">--</span> °C</p>
            <p>Температура колонны: <span id="temp-column">--</span> °C</p>
            <p>Мощность ТЭНа: <span id="ten-power">--</span> %</p>
        </div>
        <canvas id="chart" width="600" height="300"></canvas>
    </section>

    <section id="control-section">
        <h2>Управление</h2>
        <div>
            <label>
                <input type="radio" name="mode" value="manual" checked> Ручной
            </label>
            <label>
                <input type="radio" name="mode" value="auto"> Автоматический
            </label>
        </div>

        <div id="manual-control">
            <input type="range" id="manual-power" min="0" max="100" value="50">
            <span id="manual-power-value">50%</span>
            <button onclick="setManualPower()">Установить мощность</button>
        </div>

        <div id="auto-control" style="display:none;">
            <select id="auto-stage">
                <option value="1">Этап 1</option>
                <option value="2">Этап 2</option>
                <option value="3">Этап 3</option>
            </select>
            <button onclick="setAutoStage()">Выбрать этап</button>
        </div>

        <button onclick="toggleLED()">LED Вкл/Выкл</button>
    </section>

    <script src="chart.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
